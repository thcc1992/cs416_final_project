<!DOCTYPE html>
<html>
<script src='https://d3js.org/d3.v5.min.js'></script>

<head>
  <meta charset="UTF-8">
  <title> CS416 (SU23) Final Project </title>
  <link rel="stylesheet" href="style.css">
</head>
  
<body>
  <h1> COVID-19 in the USA in numbers </h1>
  <p> place text here </p>
  <!-- Add your narrative content and data visu alizations here -->
  
  <body onload='init()'>
  <svg width=900 height=900></svg>
    
  <script>
    
    async function init() {
       // Sample dataset with date values
    const dataset = [
      { date: '2023-07-01', value: 10 },
      { date: '2023-07-05', value: 15 },
      { date: '2023-07-10', value: 20 },
      { date: '2023-07-15', value: 8 },
      { date: '2023-07-20', value: 12 },
    ];

    // Set up the dimensions of the graph
    const margin = { top: 20, right: 30, bottom: 30, left: 50 };
    const width = 800 - margin.left - margin.right;
    const height = 400 - margin.top - margin.bottom;

    // Parse the date format
    const parseDate = d3.timeParse('%Y-%m-%d');

    // Format the date on the x-axis
    const formatDate = d3.timeFormat('%b %d');

    // Create the x and y scales
    const xScale = d3.scaleTime().range([0, width]);
    const yScale = d3.scaleLinear().range([height, 0]);

    // Create the line generator
    const line = d3.line()
      .x(d => xScale(parseDate(d.date)))
      .y(d => yScale(d.value));

    // Append the graph to the SVG
    const svg = d3.select('svg')
      .attr('width', width + margin.left + margin.right)
      .attr('height', height + margin.top + margin.bottom)
      .append('g')
      .attr('transform', `translate(${margin.left}, ${margin.top})`);

    // Convert date strings to date objects
    dataset.forEach(d => {
      d.date = parseDate(d.date);
      d.value = +d.value;
    });

    // Set the domain of the x and y scales
    xScale.domain(d3.extent(dataset, d => d.date));
    yScale.domain([0, d3.max(dataset, d => d.value)]);

    // Add the x-axis
    svg.append('g')
      .attr('transform', `translate(0, ${height})`)
      .call(d3.axisBottom(xScale).tickFormat(formatDate));

    // Add the y-axis
    svg.append('g')
      .call(d3.axisLeft(yScale));

    // Add the line to the graph
    svg.append('path')
      .datum(dataset)
      .attr('fill', 'none')
      .attr('stroke', 'steelblue')
      .attr('stroke-width', 2)
      .attr('d', line);

       
    }

    

  </script>

</body>
</html>

